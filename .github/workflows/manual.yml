# This is a basic workflow that is manually triggered

name: Manual workflow

# Controls when the action will run. Workflow runs when manually triggered using the UI
# or API.
on: [push]
jobs:
  Sightglass:
    runs-on: self-hosted
    # Inputs the workflow accepts.
    steps:
      - uses: actions-rs/toolchain@v1
        with:
          toolchain: stable
      #- name: Download sightglass
      - run: echo "üéâ The job was automatically triggered by a ${{ github.event_name }} event."
      - run: ls -l
      - run: pwd
      - run: hostname
      - run: echo "üêß This job is now running on a ${{ runner.os }} server hosted by GitHub!"
      - run: echo "üîé The name of your branch is ${{ github.ref }} and your repository is ${{ github.repository }}."
      - run: rm -rf sightglass
      - run: git clone https://github.com/bytecodealliance/sightglass.git
      - name: Checkout 649509c
        working-directory: ./sightglass
        run: git checkout 649509c
      - name: Build sightglass
        working-directory: ./sightglass
        run: cargo build
      - name: Build PR 
        working-directory: HEAD
        uses: actions-rs/checkout@v2
        
        

